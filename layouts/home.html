<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>A Brand New Nanoc Site - <%= @item[:title] %></title>
    
    <link href="/output.css" rel="stylesheet">

    <!-- you don't need to keep this, but it's cool for stats! -->
    <meta name="generator" content="Nanoc <%= Nanoc::VERSION %>">
  </head>
  <body>
    <%= render '/header.*' %>
    <div>
      <div>
        <% timeline_scale = 0.4  # em per year %>
        <% min_timeline_spacing = 0  # em (-1.5 = items at same time overlap completely) %>
        <% prev_year = nil %>
        <% timeline.each do |timeline_article| %>
            <% if timeline_article[:section] %>
            <div class = "p-4 bg-blue-50 max-w-sm rounded-xl shadow-lg sm:ml-10 " style="margin-top: <%= [(timeline_article[:year] - prev_year) * timeline_scale - 1.5, min_timeline_spacing].max if prev_year %>em">
              <h3 class="inline font-bold"> <%=timeline_article[:year]%></h3>
              <p><%= link_to timeline_article[:title], timeline_article.path%></p>
              <p class = "text-sm text-slate-500"><%= timeline_article[:section]%></p>
              <% prev_year = timeline_article[:year] %>
           </div>
           <% else %>
              <div class = "p-4 border-orange-500 border-2 max-w-sm rounded-xl shadow-lg sm:ml-10 float-right" style="margin-top: <%= [(timeline_article[:year] - prev_year) * timeline_scale - 1.5, min_timeline_spacing].max if prev_year %>em">
               <h3 class="inline font-bold"> <%=timeline_article[:year]%></h3>
                <p><%=timeline_article[:title]%></p>
                <% prev_year = timeline_article[:year] %>
              </div>
            <% end %>
      <% end %>
      </div>
    </div>
    <%= render '/footer.*' %>
  </body>
</html>