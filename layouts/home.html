<!DOCTYPE HTML>
<html lang="en">
  <%= render '/_head.*' %>
  <body>
    <%= render '/header.*' %>
    <div class = "timeline">
      <% timeline_scale = 0.4  # em per year %>
      <% min_timeline_spacing = 0  # em (-1.5 = items at same time overlap completely) %>
      <% prev_year = nil %>
      <% timeline.each do |timeline_article| %>
        <% if timeline_article[:section] %>
          <div class = "timeline-item article p-4 rounded-xl shadow-lg border-orangey border-2 mt-2 mb-2 items-center" style="margin-top: <%= [(timeline_article[:year] - prev_year) * timeline_scale - 1.5, min_timeline_spacing].max if prev_year %>em">
            <div class = "year text-xl">
              <%= timeline_article[:year] %>
            </div>
            <div class = "title">
              <%= link_to timeline_article[:title], timeline_article.path %>
            </div>
            <% prev_year = timeline_article[:year] %>
          </div>
        <% else %>
          <div class = "timeline-item milestone p-4 rounded-xl shadow-lg border-neutral-500 border-2 mt-2 mb-2 items-center" style="margin-top: <%= [(timeline_article[:year] - prev_year) * timeline_scale - 1.5, min_timeline_spacing].max if prev_year %>em">
            <div class = "year text-xl">
              <%= timeline_article[:year] %>
            </div>
            <div class = "title">
              <%= timeline_article[:title]%>
            </div>
            <% prev_year = timeline_article[:year] %>
          </div>
        <%end%>
      <%end%>
    </div>
    <%= render '/_footer.*' %>
  </body>
</html>